<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>BURGERIA!</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <style media="screen">
      :root {
        --line-height: 1.1rem;
        --padding: .5rem;
        --gap: .5rem;

        --burgeria: red;
        --burgeria-bg: pink;
        --newsgray: #dcdcdc;
        --lines: black;
        --bg: white;
        --graph-neutral: var(--lines);
        --graph-negative: var(--burgeria);
        --graph-positive: blue;

        --block-bg: var(--bg);
        --block-bg-filter: none;
        --borders: var(--lines);
        --block-border-radius: 0;

        /* for when im bored of the ui */
        /* --block-bg: rgba(255, 255, 255, .3); */
        /* --block-bg-filter: blur(5px); */
        /* --borders: white; */
        /* --block-border-radius: 5px; */
      }

      body.grabbing, body.grabbing * {
        cursor: grabbing;
        user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
      }

      body {
        margin: auto;
        margin-top: 1rem;
        margin-bottom: 1rem;
        max-width: 1000px;

        background-color: var(--bg);
        background-image: radial-gradient(var(--burgeria-bg) 1px, transparent 0);
        background-size: 20px 20px;

        color: var(--lines);

        animation: burgeria-bg 2s linear infinite;

        font-family: serif;
        word-break: keep-all;
      }
      @keyframes burgeria-bg {
        0% {
          background-position: 0px 0px;
        }
        100% {
          background-position: 20px 20px;
        }
      }

      .scene {
        display: flex;
        flex-wrap: wrap;
        gap: var(--gap);
        width: 100%;
      }
      .scene .column {
        width: calc(50% - var(--gap)/2);
      }
      #scene-workshop > div {
        width: calc(25% - 2rem/3);
      }

      @media (max-width: 1000px) {
        body {
          max-width: 500px;
        }
        .scene {
          flex-direction: column;
          align-items: center;
          gap: 0;
        }
        .scene > div, .scene .column {
          width: inherit !important;
        }
      }

      header {
        padding: 0;
        /* border-bottom: 1px solid var(--burgeria); */
        /* margin-bottom: var(--gap); */
        color: var(--burgeria);
        position: relative;
      }

      #current-scene-label {
        text-transform: uppercase;
      }

      header h1 {
        display: inline-block;
        pointer-events: unset;
        cursor: pointer;
      }

      h1, h2 {
        pointer-events: none;
        margin: 0;
      }

      h1 {
        font-family: serif;
        font-size: 3.25em;
        font-weight: bold;
        transform: scaleY(1.7);
        line-height: 1.2em;
        white-space: nowrap;
      }

      @supports (-moz-appearance: none) {
        h1 {
          margin-top: .5rem;
        }
      }

      h2 {
        line-height: 1em;
        font-weight: bold;
        font-size: 1rem;
        margin-bottom: var(--gap);
      }

      .block {
        border: 1px solid var(--lines);
        padding: var(--padding);
        margin-bottom: var(--gap);
        background: var(--block-bg);
        position: relative;
      }

      .block, input, textarea {
        border-color: var(--borders);
        background: var(--block-bg);
        border-radius: var(--block-border-radius);
        backdrop-filter: var(--block-bg-filter);
        -webkit-backdrop-filter: var(--block-bg-filter);
      }

      .news {
        background: var(--newsgray);
      }

      #navbar {
        border-color: var(--burgeria);
        /* display: flex;
        justify-content: space-between; */
        height: fit-content;
        align-items: center;
        margin-bottom: calc(var(--gap) * 2);
        /* margin-bottom: min(calc(var(--gap) * 2), 1rem); */
        padding: 0;
      }
      #navbar button {
        border-color: var(--burgeria);
        border-top: none;
        border-bottom: none;
        border-right: none;
      }
      #navbar > div button:last-child {
        border-right: 1px solid var(--burgeria);
      }

      .menu b {
        display: block;
      }

      .tray {
        border: 1px solid var(--borders);
        border-bottom-color: var(--lines);
        width: 100%;
        padding: 0;
      }

      .label {
        position: absolute;
        top: 0;
        left: 0;
        transform: translate(var(--gap), calc(-50% - .5px));
        padding-left: .25rem;
        padding-right: .25rem;
        background: var(--bg);
      }
      .tray .label {
        line-height: 1px;
      }

      .has-footer {
        padding-bottom: 1.5rem;
      }
      .block footer {
        width: 100%;
        justify-content: space-between;
        border-top: 1px solid var(--lines);
        position: absolute;
        bottom: 0;
        left: 0;
        height: 1.5rem;
      }
      .tray main {
        display: flex;
        box-sizing: border-box;
        width: 100%;
        height: 100%;
      }
      .container {
        width: 50%;
        /* height: 100%; */
        display: flex;
        flex-direction: column;
        gap: var(--gap);
        padding: 0;
        box-sizing: border-box;
      }
      .tray .container {
        padding: var(--padding);
      }
      .container:first-child {
        padding-right: .25rem;
      }
      .container:last-child {
        padding-left: .25rem;
      }
      button {
        margin: 0;
        border: 1px solid var(--lines);
        font-family: inherit;
        font-size: inherit;
        background: var(--bg);
        cursor: pointer;
        color: inherit;
        min-height: 1.5rem;

        padding: 0;
        padding-left: .7ch;
        padding-right: .7ch;
      }
      /* button:hover {
        background: var(--burgeria);
        color: var(--bg);
      } */
      button:active {
        background: var(--burgeria);
        color: var(--bg);
        font-style: italic;
      }
      button.disabled {
        pointer-events: none;
        opacity: .2;
      }
      button.selected {
        background: var(--burgeria);
        color: var(--bg);
        font-style: italic;
        pointer-events: none;
      }
      button.selected em, button:active em {
        /* background: var(--bg); */
        color: inherit;
        font-style: inherit;
      }

      footer {
        display: flex;
      }
      footer button {
        border-left: none;
        border-bottom: none;
      }
      footer button:first-child {
        border-left: 1px solid var(--lines);
      }

      .block footer button {
        border-top: none;
        border-right: 1px solid var(--lines);
        border-left: none;
      }
      .block footer button:last-child {
        border-left: 1px solid var(--lines);
        border-right: none;
      }
      s {
        opacity: .5;
      }

      li button {
        margin-top: 5px;
        text-align: left;
      }

      .slide-up {
        animation: slide-up .5s;
      }
      @keyframes slide-up {
        0% {
          opacity: 0;
          transform: translate(0, 1rem);
        }
        100% {
          opacity: 1;
          transform: translate(0, 0);
        }
      }

      .slide-down {
        animation: slide-down .5s;
      }
      @keyframes slide-down {
        0% {
          opacity: 0;
          transform: translate(0, -1rem);
        }
        100% {
          opacity: 1;
          transform: translate(0, 0);
        }
      }

      .send-library {
        pointer-events: none;
      }
      .send-library .block {
        animation: send-library 0s;
      }
      @keyframes send-library {
        0% {
          opacity: 1;
          border-style: dashed;
          background: var(--bg);
        }
        100% {
          opacity: 0;
          border-style: solid;
          background: var(--newsgray);
        }
      }

      .sending {
        /* opacity: 0; */
        animation: send 1s;
        pointer-events: none;
        height: 0;
      }
      @keyframes send {
        0% {
          opacity: 1;
          transform: translate(0, 0);
        }
        100% {
          opacity: 0;
          transform: translate(0, -5rem);
        }
      }
      .removing-ticket {
        animation: removing-ticket 1s;
        height: 0;
      }
      @keyframes removing-ticket {
        0% {
          opacity: 1;
          transform: translate(0, 0) rotate(0deg);
        }
        100% {
          opacity: 0;
          transform: translate(0, -3rem) rotate(45deg);
        }
      }

      .collection {
        border: 1px dashed var(--lines);
        border-radius: 1rem;
        text-align: center;
        box-sizing: border-box;
        line-height: var(--line-height);
        overflow: hidden;
        height: 100%;
        color: var(--lines);

        display: flex;
        flex-direction: column;
        flex-wrap: nowrap;
        align-items: center;
        justify-content: center;
      }
      .collection:hover .item:first-child, .collection:active .item:first-child {
        background: var(--burgeria);
        color: var(--block-bg);
      }

      .collection.empty {
        opacity: .5;
      }
      .collection.empty::after {
        content: attr(placeholder);
        font-style: italic;
      }

      .collection.draghover {
        opacity: 1;
      }
      .collection.draghover::after {
        content: "";
      }
      .collection.draghover .item:first-child {
        font-style: italic;
      }

      .collection.at-capacity {
        border-style: solid;
      }
      .collection.at-capacity.draghover .item:first-child {
        color: var(--lines);
        background: var(--block-bg);
        font-style: normal;
      }

      .collection.preview {
        pointer-events: none;
        border-style: solid;
      }
      .collection.preview.empty {
        border-style: dashed;
      }

      .collection .item {
        border: none;
        max-width: 70%;
        padding-left: var(--padding);
        padding-right: var(--padding);
      }

      .draggable {
        cursor: pointer;
        cursor: grab;
        user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
      }
      .draggable:hover {
        background: var(--burgeria);
        color: var(--bg);
      }
      .collection.draggable {
        background: transparent;
        color: var(--lines);
      }
      .dragghost {
        position: absolute;
        pointer-events: none;
        opacity: .5;
        z-index: 100;
        transform: translate(-50%, -50%);
      }
      .dragghost li {
        display: block;
      }

      canvas {
        position: relative;
        display: block;
        width: 10rem;
        height: 10rem;
        margin: auto;
      }
      .tray canvas {
        height: 100%;
      }

      ul {
        margin: 0;
      }
      ul.flexbox {
        margin-bottom: 0;
        display: flex;
        width: 100%;
        flex-wrap: wrap;
      }
      ul.flexbox > li {
        width: 30%;
      }
      #storefront-ministock li {
        list-style: inside;
      }

      .prices-title {
        position: relative;
        margin-bottom: var(--gap);
        z-index: 1;
      }
      .prices-title * {
        background: var(--newsgray);
      }

      .prices-graph {
        display: grid;
        width: 100%;
        height: 10rem;
        grid-template-columns: repeat(27, 1fr);
        grid-template-rows: auto 1rem;
        column-gap: 3px;
      }

      .graphvaluepoint {
        position: absolute;
        left: 0;
        font-size: .8rem;
        transform: translate(-.3rem, 50%);
        background: var(--newsgray);
        z-index: 1;
      }
      .graphline {
        position: absolute;
        border-top: 1px dashed gray;
        height: 0;
        width: 100%;
        left: 0;
        top: 0;
        z-index: 0;
        transform: translate(0, calc(var(--padding) * 3 - .05rem));
      }

      .graphbar {
        align-self: end;
        background: var(--graph-neutral);
        z-index: 1;
      }
      .graphbar.past {
        background: transparent !important;
        border: 1px dashed var(--newsgray);
        border-bottom: none;
        z-index: 2;
      }
      .graphbar.positive {
        background: var(--graph-positive);
        border-left: none;
        border-right: none;
      }
      .graphbar.negative {
        background: var(--graph-negative);
        border-color: var(--graph-negative);
      }
      .graphlabel {
        text-align: center;
      }

      .tooltip {
        position: absolute;
        border: 1px solid var(--lines);
        background: var(--newsgray);
        padding: var(--padding);
        padding-top: 0;
        pointer-events: none;
        top: calc(100% - 1rem);
        left: 50%;
        transform: translate(-50%, 0);
        text-align: center;
        white-space: nowrap;
      }

      input, textarea {
        font-family: inherit;
        font-size: inherit;
        padding: var(--padding);
        margin: 0;
        box-sizing: border-box;
        resize: none;
        vertical-align: top;
      }
      textarea {
        min-height: 5rem;
        width: 100%;
        height: 15rem;
      }
      input::placeholder, textarea::placeholder {
        font-style: italic;
      }

      p.block {
        padding-left: 3rem;
        padding-right: 3rem;
        margin: 0;
        margin-left: calc(-1 * var(--padding));
        margin-right: calc(-1 * var(--padding));
        border-left: none;
        border-right: none;
        /* border: none; */
        background: var(--newsgray);
        text-align: justify;
        white-space: pre-wrap;
        font-size: inherit;
      }

      .lettericon {
        /* margin-left: 1em; */
      }
      .lettericon::after {
        content: "Aa";
        display: inline-block;
        padding: 2px;
        font-style: italic;
        background: var(--newsgray);
        /* color: var(--bg); */
      }
      .burgerpoints {
        display: inline;
        /* width: calc(1ch + .25rem); */
        /* height: 1rem; */
        position: relative;
        vertical-align: top;
        font-family: serif;
      }
      .burgerpoints::after {
        content: "✸";
        display: inline;
        /* height: 1rem; */
        /* width: 1rem; */
        /* text-align: center; */

        /* position: absolute; */
        /* box-sizing: border-box; */
        /* top: 50%; */
        /* left: 50%; */
        /* transform: translate(-50%, -50%); */
      }
      .particle {
        position: absolute;
        transform: translate(-50%, -50%);
        animation: lifespan 1s;
        font-size: .8rem;
        color: var(--burgeria);
        pointer-events: none;
      }
      @keyframes lifespan {
        0% {
          opacity: 0;
          transform: scale(1, 1);
        }
        50% {
          opacity: .5;
          transform: scale(1.1, 1.1);
        }
        100% {
          opacity: 0;
          transform: scale(1, 1);
        }
      }

      #burgeria-timer {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: var(--lines);
      }
      #burgeria-timer.transition {
        animation: transition-up .5s ease-out;
      }
      @keyframes transition-up {
        0% {
          height: 100%;
        }
        100% {
          height: 0%;
        }
      }

      #burgeria-day-icon {
        color: white;
        mix-blend-mode: exclusion;
      }

      #guys-container {
        column-gap: var(--gap);
        /* justify-content: flex-end; */
        /* flex-direction: row-reverse; */
      }
      #guys-container > div {
        width: calc(20% - .4rem);
        position: relative;
      }
      .guy div[name="text"] {
        display: inline;
        margin: 0;
        border-style: dashed;
        border-top: none;
        padding: 3px;
        /* min-height: 1rem; */
        text-align: justify;
      }
      .guy div[name="text"] * {
        display: inline;
      }
      .guy div[name="text"] *::after {
        content: " ";
      }

      div[name="number"] {
        margin: 0;
        border: 1px dashed var(--lines);
        border-top: none;
        padding: 3px;
      }

      em, .em, .order {
        color: var(--burgeria);
        /* font-style: italic; */
        font-style: normal;
        font-weight: normal;
      }
      .order {
        font-weight: bold;
      }

      #scene-recipes b {
        margin-top: var(--gap);
      }
      #scene-recipes b:first-child {
        margin-top: 0;
      }

      #recipe-preview {
        display: flex;
        flex-direction: column;
        width: 50%;
      }
      #recipe-preview footer {
        display: none;
      }
      .editmode, .editmode button {
        border-color: var(--burgeria) !important;
        backdrop-filter: none;
        -webkit-backdrop-filter: none;
      }
      .editmode {
        border-style: dashed;
        background: transparent;
        padding-bottom: 2rem;
      }
      .editmode canvas {
        opacity: .5;
      }
      #recipe-preview.editmode footer {
        display: flex;
        border-color: var(--burgeria);
      }

      #burgeria-overtime-message {
        animation: open 1s ease-in-out;
        overflow: hidden;
      }
      @keyframes open {
        0% {
          max-height: 0;
          padding-top: 0;
          padding-bottom: 0;
        }
        100% {
          max-height: 2rem;
          padding-top: var(--padding);
          padding-bottom: var(--padding);
        }
      }

      table, th, td {
        border-collapse: collapse;
      }
      table {
        font-family: monospace;
        width: 100%;
      }
      #bankbook th:nth-child(2n), #bankbook td:nth-child(2n) {
        border-right: 1px solid var(--lines);
      }
      th {
        text-transform: uppercase;
        font-weight: normal;
      }
      #bankbook th {
        background: var(--newsgray);
      }
      th, td {
        padding-left: var(--padding);
      }
      #bankbook th, #bankbook td {
        padding: .2rem;
        white-space: nowrap;
        text-align: center;
      }
      #bankbook td:nth-child(n+3) {
        text-align: right;
      }
      td:nth-child(n+3):not(:empty)::before {
        content: "✸";
        font-family: serif;
      }

      span[name="title"] {
        text-overflow: ellipsis;
        overflow: hidden;
        white-space: nowrap;
      }

      #scene-workshop img {
        width: 100%;
        object-fit: scale-down;
      }
      #scene-workshop > div {
        height: fit-content;
      }

      #market div:last-child .block {
        margin-bottom: 0;
      }

      #workshop-textarea {
      }
      #workshop-textarea.rejected {
        color: var(--burgeria);
        outline-style: solid;
        outline-color: var(--burgeria);
        border-color: var(--burgeria);
        background: transparent;
        animation: rejection 30ms;
      }
      @keyframes rejection { }

      #bookshelf {
        border-bottom: 1px solid var(--lines);
        width: 100%;
        gap: 1px;
        background: var(--newsgray);
        flex-wrap: wrap;
        margin-bottom: var(--gap);
      }
      .book {
        color: var(--newsgray);
        background: var(--lines);
        writing-mode: vertical-lr;
        text-orientation: upright;
        padding: .25rem;
        cursor: pointer;
        text-transform: uppercase;
        letter-spacing: -.25rem;
        height: 10rem;
        max-width: 4rem;
        overflow: hidden;
        line-height: 1rem;
      }
      .book::before {
        content: attr(name);
        display: inline-block;
        height: 1rem;
        margin-bottom: var(--gap);
      }
      .system.book {
        background: var(--burgeria);
      }
      .book:active, .book.selected {
        transform: translate(0, var(--gap));
      }

      /*  */

      .marginbelow {
        margin-bottom: var(--gap);
      }
      .margintop {
        margin-top: var(--gap);
      }
      .dashed {
        border-style: dashed;
      }
      .attached-above {
        margin-top: calc(-1 * var(--gap));
        border-top: none;
      }
      .attached-below {
        margin-bottom: 0;
        border-bottom: none;
      }
      .attached-right {
        border-right: none;
      }
      .attached-left {
        border-left: none;
      }

      .flexbox {
        position: relative;
        display: flex;
      }
      .flexbox.centeraligned {
        align-items: center;
      }
      .flexbox.wrap {
        flex-wrap: wrap;
      }
      .flexbox.gap {
        gap: var(--gap);
      }
      .flexbox .grow {
        flex-grow: 1;
      }

      .top {
        position: absolute;
        top: 0;
        border-top: none;
      }
      .right {
        position: absolute;
        text-align: right;
        right: 0;
        border-right: none;
      }
      .left {
        position: absolute;
        left: 0;
        border-left: none;
      }
      .bottom {
        border-bottom: none;
        position: absolute;
        bottom: 0;
      }
      .front {
        z-index: 10;
      }

      .block.transparent {
        border: none;
        background: transparent;
        padding: 0;
      }

      .centeroriginY {
        transform-origin: 0 50%;
      }

      .hidden {
        visibility: hidden;
        width: 0;
        height: 0;
        pointer-events: none;
        transform: scale(0, 0);
      }
      .gone {
        display: none !important;
      }
    </style>
  </head>
  <body>

    <header>
      <h1 onclick="setScene('storefront');">BURGERIA!</h1>
      <h2 class="top right">이게 바로 버거야!<br>버거리아</h2>
    </header>

    <div id="navbar" class="block">
      <div class="flexbox gap">
        <div class="flexbox grow">
        </div>
        <div class="flexbox" style="text-align: center;">
          <button onclick="setScene('storefront'); sfx('click');" id="storefront-scene-button">storefront</button><button onclick="setScene('kitchen'); sfx('click');" id="kitchen-scene-button">kitchen</button><button onclick="setScene('workshop'); sfx('click');" id="workshop-scene-button">workshop</button>
        </div>
        <div class="grow" style="text-align: right;">
          <button onclick="toggleTheme(); sfx('click');" title="toggle theme" style="border-right: none;"><span id="theme-name">☼</span></button>
        </div>
      </div>
      <div class="gone">
        <i>You are in the <b id="current-scene-label">WORKSHOP</b>.</i>
      </div>
    </div>

    <div id="scene-storefront" class="scene hidden">
      <div class="column">
        <div class="menu flexbox">
          <div class="block grow attached-right">
            <h1 class="marginbelow">MENU</h1>
            <div id="scene-recipes">
            </div>
          </div>
          <div id="recipe-preview" class="block">
            <button id="menu-edit-button" class="top right" onclick="toggleMenuEditMode()" title="toggle edit mode">✎</button>
            <canvas width="300" height="300"></canvas>
            <div class="flexbox">
              <div class="container">
                <div class="collection empty" placeholder="burger" data-capacity="-1">
                </div>
              </div>
              <div class="container">
                <div class="collection empty" placeholder="drink" data-capacity="1">
                </div>
                <div class="collection empty" placeholder="side" data-capacity="1">
                </div>
              </div>
            </div>
            <footer>
              <button name="clear">clear</button>
              <div class="grow"></div>
              <button name="stock">stock ☰</button>
            </footer>
          </div>
        </div>
        <div id="guys-container" class="flexbox wrap attached-above marginbelow">
        </div>

        <div id="scene-storefront-news">

        </div>
      </div>
      <div id="scene-storefront-body" class="column" style="padding-bottom: 10rem;">
        <div id="storefront-ministock" class="block gone" style="position: absolute; z-index: 10;"></div>

        <div class="flexbox">
          <div class="block attached-right" style="width: 1rem; text-align: center;">
            <div id="burgeria-timer"></div>
            <span id="burgeria-day-icon"> </span>
          </div>
          <div class="block flexbox gap grow centeraligned">
            <div class="grow">
              <i>The store is <b id="day-state"> </b>.</i>
            </div>
            <button onclick="game.burgeria();" id="day-toggle-button"> </button>
          </div>
        </div>
        <div id="burgeria-overtime-message" class="block attached-above gone" onanimationend="if(ui.storefront.ministockTray) ui.storefront.ministockTray.updateMinistockPosition()">
          <i>Overtime discount—All menu items are 50% off.</i>
        </div>
      </div>
    </div>

    <div id="scene-kitchen" class="scene hidden">
      <div id="bookshelf" class="flexbox"></div>
      <div class="flexbox gap wrap" style="width:100%;">
        <div class="column">
          <div class="block" id="bankbook-block">
            <div class="flexbox">
              <h1 class="marginbelow grow">BANKBOOK</h1>
              <div style="text-align: right; float: right; font-family: monospace;">
                <table>
                  <tr>
                    <th>day</th>
                    <td><span id="day-counter"></span></td>
                  </tr>
                  <tr>
                    <th>burgerpoints</th>
                    <td><span class="burgerpoints" title="BurgerPoints"></span><span id="points-counter"> </span></td>
                  </tr>
                </table>
              </div>
            </div>

            <table id="bankbook"></table>
            <br>
            <div style="font-family: monospace; text-align: right;">NOTE: Profits are logged at the end of the day.</div>
          </div>

          <div class="block" id="inventory-block">
            <h1 class="marginbelow">STOCK</h1>
            <ul id="inventory-list" class="flexbox">
            </ul>
          </div>
        </div>
        <div class="column">
          <div id="library-block">
            <div class="block dashed attached-below">
              <span id="ingredient-buttons" class="flexbox gap wrap centeraligned">
                <b style="margin-right: var(--padding);">create ingredient</b>
              </span>
            </div>
            <div class="block" style="border-bottom: none;">
              <h1>LIBRARY</h1><div style="font-style: italic;">Transmute words into burgers</div>
            </div>

            <div class="block attached-above has-footer" id="library-page-container">
              <nav id="library-nav" style="text-align: center; margin-bottom: var(--gap);">
                <button class="disabled" title="go to previous page" onclick="navigateLibrary(-1); sfx('click');">←</button>
                <span id="library-index"></span>/<span id="library-pages-total"></span>
                <button class="disabled" title="go to next page" onclick="navigateLibrary(1); sfx('click');">→</button>
              </nav>
              <p id="library-page" class="block"></p>
              <footer>
                <div class="grow"></div>
                <button onclick="playerdata.library[playerdata.libraryIndex].disintegrate();">disintegrate</button>
              </footer>
            </div>
            <div id="library-page-empty" class="block attached-above">
              <i>Your library is empty.</i>
            </div>
            <div id="kitchen-letterstock" class="block attached-above">
              <b>LETTERSTOCK</b>
              <ul id="kitchen-letters-list" class="flexbox">
              </ul>
            </div>
          </div>

          <!-- this is for LATER game stuff -->
          <!-- <div class="block">
            <h1 class="marginbelow">R&D</h1>
            <div class="flexbox gap">
              <b>develop new ingredient</b>
              <input type="text" name="" value="" placeholder="click here to start developing...">
            </div>
          </div> -->
        </div>
      </div>
    </div>

    <div id="scene-workshop" class="scene">
      <div class="column block transparent" style="line-height: 0;"><img src="img/window.png" alt="window overlooking the field" title="window overlooking the field"></div>
      <div class="column" style="flex-grow: 1;">
        <div class="marginbelow">
          <footer>
            <button>publish</button>
            <button>clear</button>
          </footer>
          <textarea id="workshop-textarea" placeholder="click here to start writing..."></textarea>
        </div>

        <div class="block">
          <h1>MARKET</h1><br>
          <div id="market">
            <i id="market-empty">
              The market is empty.
            </i>
          </div>
        </div>
      </div>
      <div class="column">
        <div class="block transparent">
          <b>LETTERSTOCK</b>
          <ul id="workshop-letters-list" class="flexbox">
          </ul>
        </div>
      </div>
    </div>

    <template id="template-tray">
      <div class="flexbox">
        <div name="number" class="block top right">99</div>
        <div class="tray block has-footer">
          <span class="label">tray</span>
          <main>
            <div class="container">
              <div class="collection empty" placeholder="burger" data-capacity="-1">
              </div>
            </div>
            <div class="container">
              <div class="collection empty" placeholder="drink" data-capacity="1">
              </div>
              <div class="collection empty" placeholder="side" data-capacity="1">
              </div>
            </div>
          </main>
          <footer class="flexbox">
            <button name="send">send off</button>
            <button name="clear">clear</button>
            <div class="grow"></div>
            <button name="stock">stock ☰</button>
          </footer>
        </div>
        <div>
          <canvas width="300" height="300"></canvas>
        </div>
      </div>
    </template>

    <template id="template-news-headline">
      <div class="news block slide-down">
        <button class="top right front" title="close" onclick="this.parentNode.parentNode.remove(); sfx('click');">x</button>
        <div class="centeroriginY">
          <h1 id="line1">BIG BURGERS...</h1>
        </div>
        <div class="flexbox centeroriginY" style="margin-top: var(--padding); align-items: flex-start; justify-content: space-between;">
          <div><i>The Journal</i></div>
          <h1 id="line2" style="text-align: right;">... ARE IN!</h1>
        </div>
      </div>
    </template>

    <template id="template-news-prices">
      <div class="news block slide-down">
        <button class="top right front" title="close" onclick="this.parentNode.parentNode.remove(); sfx('click');">x</button>
        <div class="prices-title">
          <b>Letter Prices</b>—<i>your daily ABC's</i>
        </div>
        <div class="prices-graph">
          <div class="points-holder" style="position: relative;"></div>
        </div>
      </div>
    </template>

    <template id="template-guy">
      <div class="guy flexbox" style="flex-direction: column;">
        <div name="number" class="block top left">99</div>
        <img src="" alt="" title="">
        <div name="text" class="block attached-top"></div>
      </div>
    </template>

    <template id="template-feedback-napkin">
      <div class="block dashed slide-down">
        <button class="top right front" title="close" onclick="this.parentNode.parentNode.remove(); sfx('click');">x</button>
        <div class="marginbelow">
          <i>Someone left a note on a napkin...</i>
        </div>
        <span name="text"></span>
      </div>
    </template>

    <template id="template-writing-alert">
      <div class="block flexbox centeraligned dashed gap slide-down">
        <span>
          <span class="lettericon"></span>
        </span>
        <span name="title" class="grow"></span>
        <button>read</button>
        <button style="min-width: fit-content;">add to library <span name="nonzerocost">(<span style="color: var(--burgeria)"><span class="burgerpoints">–</span><span name="cost">0</span></span>)</span></button>
      </div>
    </template>

    <template id="template-popup">
      <div class="block">
        <div name="content">

        </div>
        <div class="">
          <button>close</button>
        </div>
      </div>
    </template>

  </body>
  <script type="text/javascript" src="js/lib/howler.core.js"></script>
  <script type="text/javascript" src="js/lib/three.min.js"></script>
  <script type="text/javascript" src="js/bank/geometries.js"></script>
  <script type="text/javascript" src="js/bank/sound.js"></script>
  <script type="text/javascript" src="js/bank/writing.js"></script>
  <script type="text/javascript" src="js/dragdrop.js"></script>
  <script type="text/javascript" src="js/recipe.js"></script>
  <script type="text/javascript" src="js/tray.js"></script>
  <script type="text/javascript" src="js/writing.js"></script>
  <script type="text/javascript" src="js/guy.js"></script>
  <script type="text/javascript" src="js/ui.js"></script>
  <script type="text/javascript" src="js/data.js"></script>
  <script type="text/javascript" src="js/game.js"></script>
  <script type="text/javascript">
    init_default_playerdata();

    setScene("workshop");

    // workshop
    updateList(ui.workshop.lettersList, playerdata.letters);

    // storefront

    init_3d();

    playerdata.themes.index--;
    toggleTheme();

    playerdata.recipes[0].previewRecipe();
    updateDayUI();

    // kitchen

    init_workshop();
    updateLibrary();
    updatePoints();
    updateBankbook();
    updateRecipes();
    updateList(ui.kitchen.lettersList, playerdata.letters);
    updateBookshelf();

    //

    animate();

    console.clear();
  </script>
</html>
